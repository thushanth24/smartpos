# ====================================
# Server Configuration
# ====================================
NODE_ENV=development
PORT=5000
HOST=0.0.0.0

# ====================================
# Database Configuration
# ====================================
# Option 1: Use DATABASE_URL (recommended for services like Neon)
DATABASE_URL=postgresql://neondb_owner:npg_fnFxBgyV1k5Q@ep-hidden-thunder-a1a1f8va-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require

# Option 2: Use individual connection parameters (alternative to DATABASE_URL)
DB_HOST=ep-hidden-thunder-a1a1f8va-pooler.ap-southeast-1.aws.neon.tech
DB_PORT=5432
DB_NAME=neondb
DB_USER=neondb_owner
DB_PASSWORD=npg_fnFxBgyV1k5Q
DB_SSL=true

# Production Database Configuration
PROD_DATABASE_URL=postgresql://neondb_owner:npg_fnFxBgyV1k5Q@ep-hidden-thunder-a1a1f8va-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
PROD_DB_HOST=ep-hidden-thunder-a1a1f8va-pooler.ap-southeast-1.aws.neon.tech
PROD_DB_PORT=5432
PROD_DB_NAME=neondb
PROD_DB_USER=neondb_owner
PROD_DB_PASSWORD=npg_fnFxBgyV1k5Q

# Connection Pool Settings
DB_POOL_MAX=10
DB_POOL_MIN=2
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000
DB_POOL_EVICT=1000

# ====================================
# JWT & Authentication
# ====================================
JWT_SECRET=your_jwt_secret_key_change_this_in_production
JWT_EXPIRES_IN=30d
JWT_REFRESH_EXPIRES_IN=90d
JWT_COOKIE_EXPIRES=30

# ====================================
# Security & Rate Limiting
# ====================================
# CORS Configuration (comma-separated for multiple origins)
CORS_ORIGIN=http://localhost:4028,http://localhost:3000,https://application.rocket.new
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Allow-Origin,Access-Control-Allow-Headers,Access-Control-Allow-Methods,Access-Control-Allow-Credentials
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# API Configuration
API_PREFIX=/api
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Rate Limiting
RATE_LIMIT_WINDOW_MS=15m
RATE_LIMIT_MAX=100

# Security Headers
HELMET_ENABLED=true
CSP_ENABLED=true
HSTS_ENABLED=true

# ====================================
# Logging
# ====================================
LOG_LEVEL=info
LOG_TO_FILE=true
LOG_DIR=logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ====================================
# Session & Cookies
# ====================================
COOKIE_SECRET=your_cookie_secret_change_this_in_production
SESSION_SECRET=your_session_secret_change_this_in_production
SECURE_COOKIES=false # Set to true in production with HTTPS

# ====================================
# API
# ====================================
API_PREFIX=/api/v1
API_DOCS_PATH=/api-docs
API_RESPONSE_TIMEOUT=30000 # 30 seconds

# ====================================
# Environment-specific overrides
# ====================================
# These will override the above settings in the specified environment
# Example: NODE_ENV=production will use the PROD_* variables below

# Production overrides
PROD_DATABASE_URL=
PROD_DB_HOST=
PROD_DB_PORT=
PROD_DB_NAME=
PROD_DB_USER=
PROD_DB_PASSWORD=
PROD_JWT_SECRET=
PROD_COOKIE_SECRET=
PROD_SESSION_SECRET=
PROD_SECURE_COOKIES=true

# Development overrides
DEV_DATABASE_URL=postgresql://neondb_owner:npg_fnFxBgyV1k5Q@ep-hidden-thunder-a1a1f8va-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require
DEV_DB_HOST=ep-gentle-sound-a1qdwivm-pooler.ap-southeast-1.aws.neon.tech
DEV_DB_PORT=5432
DEV_DB_NAME=neondb
DEV_DB_USER=neondb_owner
DEV_DB_PASSWORD=npg_wrU6noaRyTB5

# Test overrides
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5432/smartpos_test
TEST_DB_HOST=localhost
TEST_DB_PORT=5432
TEST_DB_NAME=smartpos_test
TEST_DB_USER=postgres
TEST_DB_PASSWORD=postgres
